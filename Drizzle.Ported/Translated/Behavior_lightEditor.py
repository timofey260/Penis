from Drizzle.Runtime import *## Behavior script: lightEditor#class lightEditor(LingoBehaviorScript):     def __init__(self):         super().__init__()            def exitframe(self):         q = None        dupl = None        era = None        l = None        curr = None        s = None        mv = None        dir1 = None        dir2 = None        angleadd = None        dsppos = None        rad = None        if LingoGlobal.ToBool(_movieScript.showControls):             _global.sprite(LingoNumber(189)).blend = LingoNumber(100)                    else:            _global.sprite(LingoNumber(189)).blend = LingoNumber(0)                    for tmp_q in LingoGlobal.pyrange(LingoNumber(1), LingoNumber(4)):             q = tmp_q            if ((LingoGlobal.ToBool(_global._key.keypressed(LingoList(LingoNumber(86),LingoNumber(91),LingoNumber(88),LingoNumber(84))[q])) and LingoGlobal.op_eq_b(_movieScript.gDirectionKeys[q], LingoNumber(0))) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):                 _movieScript.gLEProps.campos = LingoGlobal.op_add(_movieScript.gLEProps.campos,LingoGlobal.op_mul(LingoList(LingoGlobal.point(-LingoNumber(1),LingoNumber(0)),LingoGlobal.point(LingoNumber(0),-LingoNumber(1)),LingoGlobal.point(LingoNumber(1),LingoNumber(0)),LingoGlobal.point(LingoNumber(0),LingoNumber(1)))[q],LingoGlobal.op_add(LingoGlobal.op_add(LingoNumber(1),LingoGlobal.op_mul(LingoNumber(9),_global._key.keypressed(LingoNumber(83)))),LingoGlobal.op_mul(LingoNumber(34),_global._key.keypressed(LingoNumber(85))))))                if not LingoGlobal.ToBool(_global._key.keypressed(LingoNumber(92))):                     if _movieScript.gLEProps.campos.loch < -LingoNumber(26):                         _movieScript.gLEProps.campos.loch = -LingoNumber(26)                                            if _movieScript.gLEProps.campos.locv < -LingoNumber(18):                         _movieScript.gLEProps.campos.locv = -LingoNumber(18)                                            if _movieScript.gLEProps.campos.loch > LingoGlobal.op_sub(_movieScript.gLEProps.matrix.count,LingoNumber(56)):                         _movieScript.gLEProps.campos.loch = LingoGlobal.op_sub(_movieScript.gLEProps.matrix.count,LingoNumber(56))                                            if _movieScript.gLEProps.campos.locv > LingoGlobal.op_sub(_movieScript.gLEProps.matrix[LingoNumber(1)].count,LingoNumber(37)):                         _movieScript.gLEProps.campos.locv = LingoGlobal.op_sub(_movieScript.gLEProps.matrix[LingoNumber(1)].count,LingoNumber(37))                                                                        _movieScript.gDirectionKeys[q] = _global._key.keypressed(LingoList(LingoNumber(86),LingoNumber(91),LingoNumber(88),LingoNumber(84))[q])            tmp_q = q                    if LingoGlobal.ToBool(self.checkkey("Z")):             _movieScript.gLightEProps.col = LingoGlobal.op_sub(LingoNumber(1),_movieScript.gLightEProps.col)                    if (LingoGlobal.ToBool(_global._mouse.rightmousedown) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):             _movieScript.gLightEProps.rot = _movieScript.lookatpoint(_movieScript.gLightEProps.pos,_global._mouse.mouseloc)                    else:            _movieScript.gLightEProps.pos = _global._mouse.mouseloc                    if (LingoGlobal.ToBool(_global._key.keypressed("C")) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):             _movieScript.glgtimgQuad[LingoNumber(1)] = LingoGlobal.op_add(_global._mouse.mouseloc,LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)))                    elif (LingoGlobal.ToBool(_global._key.keypressed("V")) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):             _movieScript.glgtimgQuad[LingoNumber(2)] = LingoGlobal.op_add(_global._mouse.mouseloc,LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)))                    elif (LingoGlobal.ToBool(_global._key.keypressed("B")) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):             _movieScript.glgtimgQuad[LingoNumber(3)] = LingoGlobal.op_add(_global._mouse.mouseloc,LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)))                    elif (LingoGlobal.ToBool(_global._key.keypressed("N")) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):             _movieScript.glgtimgQuad[LingoNumber(4)] = LingoGlobal.op_add(_global._mouse.mouseloc,LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)))                    if LingoGlobal.ToBool(self.checkkey("M")):             dupl = _global.image(_global.member("lightImage").image.width,_global.member("lightImage").image.height,LingoNumber(1))            dupl.copypixels(_global.member("lightImage").image,dupl.rect,dupl.rect)
            era = _global.image(_global.member("lightImage").image.width,_global.member("lightImage").image.height,LingoNumber(1))            _global.member("lightImage").image.copypixels(era,_global.member("lightImage").image.rect,era.rect)
            _global.member("lightImage").image.copypixels(dupl,_movieScript.glgtimgQuad,dupl.rect)
            _movieScript.glgtimgQuad = LingoList(LingoGlobal.point(LingoNumber(0),LingoNumber(0)),LingoGlobal.point(_global.member("lightImage").image.width,LingoNumber(0)),LingoGlobal.point(_global.member("lightImage").image.width,_global.member("lightImage").image.height),LingoGlobal.point(LingoNumber(0),_global.member("lightImage").image.height))                    if LingoGlobal.op_sub(_global._system.milliseconds,_movieScript.gLightEProps.lasttm) > LingoNumber(10):             if (LingoGlobal.ToBool(_global._key.keypressed("W")) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):                 _movieScript.gLightEProps.sz.locv = LingoGlobal.op_add(_movieScript.gLightEProps.sz.locv,LingoNumber(1))                            elif (LingoGlobal.ToBool(_global._key.keypressed("S")) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):                 _movieScript.gLightEProps.sz.locv = LingoGlobal.op_sub(_movieScript.gLightEProps.sz.locv,LingoNumber(1))                            if (LingoGlobal.ToBool(_global._key.keypressed("D")) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):                 _movieScript.gLightEProps.sz.loch = LingoGlobal.op_add(_movieScript.gLightEProps.sz.loch,LingoNumber(1))                            elif (LingoGlobal.ToBool(_global._key.keypressed("A")) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):                 _movieScript.gLightEProps.sz.loch = LingoGlobal.op_sub(_movieScript.gLightEProps.sz.loch,LingoNumber(1))                            if (LingoGlobal.ToBool(_global._key.keypressed("Q")) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):                 _movieScript.gLightEProps.rot = LingoGlobal.op_sub(_movieScript.gLightEProps.rot,LingoNumber(1))                            elif (LingoGlobal.ToBool(_global._key.keypressed("E")) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):                 _movieScript.gLightEProps.rot = LingoGlobal.op_add(_movieScript.gLightEProps.rot,LingoNumber(1))                            if (LingoGlobal.ToBool(_global._key.keypressed("J")) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):                 _movieScript.gLightEProps.lightangle = _movieScript.restrict(LingoGlobal.op_sub(_movieScript.gLightEProps.lightangle,LingoNumber(1)),LingoNumber(0),LingoNumber(360))                if LingoGlobal.op_eq_b(_movieScript.gLightEProps.lightangle, LingoNumber(0)):                     _movieScript.gLightEProps.lightangle = LingoNumber(360)                                                elif (LingoGlobal.ToBool(_global._key.keypressed("L")) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):                 _movieScript.gLightEProps.lightangle = _movieScript.restrict(LingoGlobal.op_add(_movieScript.gLightEProps.lightangle,LingoNumber(1)),LingoNumber(0),LingoNumber(360))                if LingoGlobal.op_eq_b(_movieScript.gLightEProps.lightangle, LingoNumber(360)):                     _movieScript.gLightEProps.lightangle = LingoNumber(0)                                                if LingoGlobal.ToBool(_movieScript.geverysecond):                 if (LingoGlobal.ToBool(_global._key.keypressed("I")) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):                     _movieScript.gLightEProps.flatness = _movieScript.restrict(LingoGlobal.op_sub(_movieScript.gLightEProps.flatness,LingoNumber(1)),LingoNumber(1),LingoNumber(10))                                    elif (LingoGlobal.ToBool(_global._key.keypressed("K")) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):                     _movieScript.gLightEProps.flatness = _movieScript.restrict(LingoGlobal.op_add(_movieScript.gLightEProps.flatness,LingoNumber(1)),LingoNumber(1),LingoNumber(10))                                    _movieScript.geverysecond = LingoNumber(0)                            else:                _movieScript.geverysecond = LingoNumber(1)                            _movieScript.gLightEProps.lasttm = _global._system.milliseconds                    l = LingoList("pxl","squareLightEmpty","bigCircle","discLightEmpty","leaves","oilyLight","directionalLight","blobLight1","blobLight2","wormsLight","crackLight","squareishLight","holeLight","roundedRectLight","roundedRectLightEmpty","triangleLight","triangleLightEmpty","curvedTriangleLight","curvedTriangleLightEmpty","pentagonLight","pentagonLightEmpty","hexagonLight","hexagonLightEmpty","octagonLight","octagonLightEmpty","DR1DestLight","DR2DestLight","DR3DestLight")        curr = LingoNumber(1)        for tmp_s in LingoGlobal.pyrange(LingoNumber(1), l.count):             s = tmp_s            if LingoGlobal.op_eq_b(l[s], _movieScript.gLightEProps.paintshape):                 curr = s                break                            tmp_s = s                    mv = LingoNumber(0)        if LingoGlobal.ToBool(self.checkkey("r")):             mv = -LingoNumber(1)                    elif LingoGlobal.ToBool(self.checkkey("f")):             mv = LingoNumber(1)                    if LingoGlobal.op_ne_b(mv, LingoNumber(0)):             curr = _movieScript.restrict(LingoGlobal.op_add(curr,mv),LingoNumber(1),l.count)            _global.sprite(LingoNumber(181)).member = _global.member(l[curr])            _global.sprite(LingoNumber(182)).member = _global.member(l[curr])            _movieScript.gLightEProps.paintshape = l[curr]                    dir1 = _movieScript.degtovec(_movieScript.gLightEProps.rot)        dir2 = _movieScript.degtovec(LingoGlobal.op_add(_movieScript.gLightEProps.rot,LingoNumber(90)))        angleadd = LingoGlobal.op_mul(_movieScript.degtovec(_movieScript.gLightEProps.lightangle),LingoGlobal.op_mul(_movieScript.gLightEProps.flatness,LingoNumber(10)))        dsppos = LingoGlobal.point(LingoGlobal.op_sub(LingoGlobal.op_div(LingoNumber(1366),LingoNumber(2)),LingoGlobal.op_div(_global.member("lightImage").image.width,LingoNumber(2))),LingoGlobal.op_sub(LingoGlobal.op_div(LingoNumber(768),LingoNumber(2)),LingoGlobal.op_div(_global.member("lightImage").image.height,LingoNumber(2))))        dsppos = LingoGlobal.op_sub(dsppos,LingoGlobal.point(LingoNumber(150),LingoNumber(150)))        q = LingoGlobal.op_add(LingoList(_movieScript.gLightEProps.pos,_movieScript.gLightEProps.pos,_movieScript.gLightEProps.pos,_movieScript.gLightEProps.pos),LingoList(LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20))))        q = LingoGlobal.op_add(q,LingoList(LingoGlobal.op_sub(LingoGlobal.op_mul(-dir2,_movieScript.gLightEProps.sz.loch),LingoGlobal.op_mul(dir1,_movieScript.gLightEProps.sz.locv)),LingoGlobal.op_sub(LingoGlobal.op_mul(dir2,_movieScript.gLightEProps.sz.loch),LingoGlobal.op_mul(dir1,_movieScript.gLightEProps.sz.locv)),LingoGlobal.op_add(LingoGlobal.op_mul(dir2,_movieScript.gLightEProps.sz.loch),LingoGlobal.op_mul(dir1,_movieScript.gLightEProps.sz.locv)),LingoGlobal.op_add(LingoGlobal.op_mul(-dir2,_movieScript.gLightEProps.sz.loch),LingoGlobal.op_mul(dir1,_movieScript.gLightEProps.sz.locv))))        _movieScript.gLightEProps.keys.m1 = LingoGlobal.op_and(_global._mouse.mousedown,LingoGlobal.op_ne(_global._movie.window.sizestate,minimized))        if (LingoGlobal.ToBool(_movieScript.gLightEProps.keys.m1) and LingoGlobal.op_ne_b(_movieScript.firstFrame, LingoNumber(1))):             _global.member("lightImage").image.copypixels(_global.member(_movieScript.gLightEProps.paintshape).image,LingoGlobal.op_sub(q,LingoList(dsppos,dsppos,dsppos,dsppos)),_global.member(_movieScript.gLightEProps.paintshape).image.rect,LingoPropertyList(dict(color = LingoGlobal.op_mul(_movieScript.gLightEProps.col,LingoNumber(255)),ink = LingoNumber(36))))        if LingoGlobal.op_eq_b(_movieScript.gLightEProps.keys.m1, LingoNumber(0)):             _movieScript.firstFrame = LingoNumber(0)                    _movieScript.gLightEProps.lastkeys.m1 = _movieScript.gLightEProps.keys.m1        _global.sprite(LingoNumber(181)).quad = LingoGlobal.op_sub(q,LingoList(LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20))))        _global.sprite(LingoNumber(182)).quad = LingoGlobal.op_sub(q,LingoList(LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20))))        _global.sprite(LingoNumber(181)).color = _global.color(LingoGlobal.op_mul(LingoGlobal.op_sub(LingoNumber(1),_movieScript.gLightEProps.col),LingoNumber(255)),LingoGlobal.op_mul(LingoGlobal.op_sub(LingoNumber(1),_movieScript.gLightEProps.col),LingoNumber(255)),LingoGlobal.op_mul(LingoGlobal.op_sub(LingoNumber(1),_movieScript.gLightEProps.col),LingoNumber(255)))        _global.sprite(LingoNumber(180)).quad = LingoGlobal.op_add(LingoGlobal.op_sub(_movieScript.glgtimgQuad,LingoList(LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)))),LingoList(dsppos,dsppos,dsppos,dsppos))        _global.sprite(LingoNumber(185)).rect = LingoGlobal.op_add(LingoGlobal.rect(LingoGlobal.point(LingoNumber(850),LingoNumber(650)),LingoGlobal.point(LingoNumber(850),LingoNumber(650))),LingoGlobal.rect(-LingoNumber(50),-LingoNumber(50),LingoNumber(50),LingoNumber(50)))        rad = LingoGlobal.op_mul(_movieScript.gLightEProps.flatness,LingoNumber(10))        _global.sprite(LingoNumber(186)).rect = LingoGlobal.op_add(LingoGlobal.rect(LingoGlobal.point(LingoNumber(850),LingoNumber(650)),LingoGlobal.point(LingoNumber(850),LingoNumber(650))),LingoGlobal.rect(-rad,-rad,rad,rad))        _global.sprite(LingoNumber(187)).loc = LingoGlobal.op_sub(LingoGlobal.point(LingoNumber(850),LingoNumber(650)),LingoGlobal.op_mul(_movieScript.degtovec(_movieScript.gLightEProps.lightangle),rad))        _global.sprite(LingoNumber(176)).loc = LingoGlobal.op_sub(LingoGlobal.op_add(LingoGlobal.op_sub(LingoGlobal.point(LingoGlobal.op_div(LingoNumber(1366),LingoNumber(2)),LingoGlobal.op_div(LingoNumber(768),LingoNumber(2))),LingoGlobal.point(LingoNumber(150),LingoNumber(150))),LingoGlobal.op_mul(angleadd,LingoNumber(2))),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)))        _global.sprite(LingoNumber(179)).loc = LingoGlobal.op_sub(LingoGlobal.op_sub(LingoGlobal.point(LingoGlobal.op_div(LingoNumber(1366),LingoNumber(2)),LingoGlobal.op_div(LingoNumber(768),LingoNumber(2))),LingoGlobal.point(LingoNumber(150),LingoNumber(150))),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)))        _global.sprite(LingoNumber(175)).loc = LingoGlobal.op_sub(LingoGlobal.point(LingoGlobal.op_div(LingoNumber(1366),LingoNumber(2)),LingoGlobal.op_div(LingoNumber(768),LingoNumber(2))),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)))        _global.sprite(LingoNumber(178)).loc = LingoGlobal.op_sub(LingoGlobal.point(LingoGlobal.op_div(LingoNumber(1366),LingoNumber(2)),LingoGlobal.op_div(LingoNumber(768),LingoNumber(2))),LingoGlobal.op_mul(_movieScript.gLEProps.campos,LingoNumber(20)))        _global.script("levelOverview").gotoeditor()
        _global.go(_global.the_frame)        return None            def checkkey(self, key):         rtrn = None        rtrn = LingoNumber(0)        _movieScript.gLightEProps.keys[LingoGlobal.symbol(key)] = LingoGlobal.op_and(_global._key.keypressed(key),LingoGlobal.op_ne(_global._movie.window.sizestate,minimized))        if (LingoGlobal.ToBool(_movieScript.gLightEProps.keys[LingoGlobal.symbol(key)]) and LingoGlobal.op_eq_b(_movieScript.gLightEProps.lastkeys[LingoGlobal.symbol(key)], LingoNumber(0))):             rtrn = LingoNumber(1)                    _movieScript.gLightEProps.lastkeys[LingoGlobal.symbol(key)] = _movieScript.gLightEProps.keys[LingoGlobal.symbol(key)]        return rtrn                    