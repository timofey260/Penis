from Drizzle.Runtime import *## Movie script: TEdraw#class MovieScript:     def __init__(self):         super().__init__()            def tedraw(self, drwrect, layer, drawall):         q = None        c = None        drawq = None        drawc = None        rct = None        cl = None        nc = None        t = None        tl = None        clr = None        mdpnt = None        strt = None        g = None        h = None        drw = None        rct2 = None        drps = None        drps2 = None        for tmp_q in LingoGlobal.pyrange(drwrect.left, drwrect.right):             q = tmp_q            for tmp_c in LingoGlobal.pyrange(drwrect.top, drwrect.bottom):                 c = tmp_c                drawq = LingoGlobal.op_sub(q,self.gLEProps.campos.loch)                drawc = LingoGlobal.op_sub(c,self.gLEProps.campos.locv)                if (LingoGlobal.ToBool(LingoGlobal.point(drawq,drawc).inside(LingoGlobal.rect(LingoNumber(1),LingoNumber(1),LingoNumber(53),LingoNumber(41)))) or LingoGlobal.ToBool(drawall)):                     if LingoGlobal.ToBool(LingoGlobal.point(q,c).inside(LingoGlobal.rect(LingoNumber(1),LingoNumber(1),LingoGlobal.op_add(self.gLOprops.size.loch,LingoNumber(1)),LingoGlobal.op_add(self.gLOprops.size.locv,LingoNumber(1))))):                         rct = LingoGlobal.rect(LingoGlobal.op_mul(LingoGlobal.op_sub(drawq,LingoNumber(1)),LingoNumber(16)),LingoGlobal.op_mul(LingoGlobal.op_sub(drawc,LingoNumber(1)),LingoNumber(16)),LingoGlobal.op_mul(drawq,LingoNumber(16)),LingoGlobal.op_mul(drawc,LingoNumber(16)))                        if LingoGlobal.op_ne_b(self.gTEprops.tlmatrix[q][c][layer].tp, "tileBody"):                             _global.member(LingoGlobal.concat("TEimg",_global.str(layer))).image.copypixels(LingoImage.Pxl,rct,LingoImage.Pxl.rect,LingoPropertyList(color=_global.color(LingoNumber(255),LingoNumber(255),LingoNumber(255))))                        match self.gTEprops.tlmatrix[q][c][layer].tp.lower():                             case "material":                                rct = LingoGlobal.op_add(LingoGlobal.rect(LingoGlobal.op_mul(LingoGlobal.op_sub(drawq,LingoNumber(1)),LingoNumber(16)),LingoGlobal.op_mul(LingoGlobal.op_sub(drawc,LingoNumber(1)),LingoNumber(16)),LingoGlobal.op_mul(drawq,LingoNumber(16)),LingoGlobal.op_mul(drawc,LingoNumber(16))),LingoGlobal.rect(LingoNumber(5),LingoNumber(5),-LingoNumber(5),-LingoNumber(5)))                                match self.gLEProps.matrix[q][c][layer][LingoNumber(1)] if value is not None else 9999999999:                                     case 0:                                        rct = LingoGlobal.rect(-LingoNumber(1),-LingoNumber(1),-LingoNumber(1),-LingoNumber(1))                                                                            case 1:                                        pass                                                                            case 2:                                        rct = LingoList(LingoGlobal.point(rct.left,rct.top),LingoGlobal.point(rct.left,rct.top),LingoGlobal.point(rct.right,rct.bottom),LingoGlobal.point(rct.left,rct.bottom))                                                                            case 3:                                        rct = LingoList(LingoGlobal.point(rct.right,rct.top),LingoGlobal.point(rct.right,rct.top),LingoGlobal.point(rct.left,rct.bottom),LingoGlobal.point(rct.right,rct.bottom))                                                                            case 4:                                        rct = LingoList(LingoGlobal.point(rct.left,rct.bottom),LingoGlobal.point(rct.left,rct.bottom),LingoGlobal.point(rct.right,rct.top),LingoGlobal.point(rct.left,rct.top))                                                                            case 5:                                        rct = LingoList(LingoGlobal.point(rct.right,rct.bottom),LingoGlobal.point(rct.right,rct.bottom),LingoGlobal.point(rct.left,rct.top),LingoGlobal.point(rct.right,rct.top))                                                                            case 6:                                        rct = LingoGlobal.op_add(LingoGlobal.rect(LingoGlobal.op_mul(LingoGlobal.op_sub(drawq,LingoNumber(1)),LingoNumber(16)),LingoGlobal.op_mul(LingoGlobal.op_sub(drawc,LingoNumber(1)),LingoNumber(16)),LingoGlobal.op_mul(drawq,LingoNumber(16)),LingoGlobal.op_mul(drawc,LingoNumber(16))),LingoGlobal.rect(LingoNumber(5),LingoNumber(5),-LingoNumber(5),-LingoNumber(8)))                                                                            case 7:                                        pass                                                                            case 8:                                        pass                                                                                                            cl = _global.color(LingoNumber(0),LingoNumber(0),LingoNumber(0))                                for tmp_nc in LingoGlobal.pyrange(LingoNumber(1), self.getlastmatcat()):                                     nc = tmp_nc                                    for tmp_t in self.gTiles[nc].tls:                                         t = tmp_t                                        if LingoGlobal.op_eq_b(t.nm, self.gTEprops.tlmatrix[q][c][layer].data):                                             cl = t.color                                            break                                                                                                                        tmp_nc = nc                                                                    _global.member(LingoGlobal.concat("TEimg",_global.str(layer))).image.copypixels(LingoImage.Pxl,rct,LingoImage.Pxl.rect,LingoPropertyList(color=cl))                            case "tilehead":                                tl = self.gTiles[self.gTEprops.tlmatrix[q][c][layer].data[LingoNumber(1)].loch].tls[self.gTEprops.tlmatrix[q][c][layer].data[LingoNumber(1)].locv]                                clr = self.gTiles[self.gTEprops.tlmatrix[q][c][layer].data[LingoNumber(1)].loch].clr                                mdpnt = LingoGlobal.point(LingoGlobal.op_add(LingoGlobal.op_mul(tl.sz.loch,LingoNumber(0.5000)),LingoNumber(0.4999)).integer,LingoGlobal.op_add(LingoGlobal.op_mul(tl.sz.locv,LingoNumber(0.5000)),LingoNumber(0.4999)).integer)                                strt = LingoGlobal.op_sub(LingoGlobal.op_add(LingoGlobal.op_sub(LingoGlobal.point(q,c),mdpnt),LingoGlobal.point(LingoNumber(1),LingoNumber(1))),self.gLEProps.campos)                                if (LingoGlobal.op_ne_b(tl.specs2, LingoGlobal.VOID) and layer < LingoNumber(3)):                                     for tmp_g in LingoGlobal.pyrange(strt.loch, LingoGlobal.op_sub(LingoGlobal.op_add(strt.loch,tl.sz.loch),LingoNumber(1))):                                         g = tmp_g                                        for tmp_h in LingoGlobal.pyrange(strt.locv, LingoGlobal.op_sub(LingoGlobal.op_add(strt.locv,tl.sz.locv),LingoNumber(1))):                                             h = tmp_h                                            if (((LingoGlobal.op_add(g,self.gLEProps.campos.loch) > LingoNumber(0) and LingoGlobal.op_add(h,self.gLEProps.campos.locv) > LingoNumber(0)) and LingoGlobal.op_add(g,self.gLEProps.campos.loch) < LingoGlobal.op_add(self.gTEprops.tlmatrix.count,LingoNumber(1))) and LingoGlobal.op_add(h,self.gLEProps.campos.locv) < LingoGlobal.op_add(self.gTEprops.tlmatrix[LingoNumber(1)].count,LingoNumber(1))):                                                 drw = LingoGlobal.TRUE                                                if LingoGlobal.op_eq_b(tl.specs2[LingoGlobal.op_add(LingoGlobal.op_add(LingoGlobal.op_sub(h,strt.locv),LingoGlobal.op_mul(LingoGlobal.op_sub(g,strt.loch),tl.sz.locv)),LingoNumber(1))], -LingoNumber(1)):                                                     drw = LingoGlobal.FALSE                                                                                                    elif (LingoGlobal.op_eq_b(self.gTEprops.tlmatrix[LingoGlobal.op_add(g,self.gLEProps.campos.loch)][LingoGlobal.op_add(h,self.gLEProps.campos.locv)][LingoGlobal.op_add(layer,LingoNumber(1))].tp, "tileHead") and LingoGlobal.op_ne_b(self.gTEprops.tlmatrix[q][c][layer].data, self.gTEprops.tlmatrix[LingoGlobal.op_add(g,self.gLEProps.campos.loch)][LingoGlobal.op_add(h,self.gLEProps.campos.locv)][LingoGlobal.op_add(layer,LingoNumber(1))].data)):                                                     drw = LingoGlobal.FALSE                                                                                                    if LingoGlobal.ToBool(drw):                                                     rct2 = LingoGlobal.rect(LingoGlobal.op_mul(LingoGlobal.op_sub(g,LingoNumber(1)),LingoNumber(16)),LingoGlobal.op_mul(LingoGlobal.op_sub(h,LingoNumber(1)),LingoNumber(16)),LingoGlobal.op_mul(g,LingoNumber(16)),LingoGlobal.op_mul(h,LingoNumber(16)))                                                    if (tl.ptpos > LingoNumber(60000) and LingoGlobal.ToBool(self.getboolconfig("More tile previews"))):                                                         drps = LingoGlobal.op_sub(tl.ptpos,LingoNumber(60000))                                                        _global.member(LingoGlobal.concat("TEimg",_global.str(LingoGlobal.op_add(layer,LingoNumber(1))))).image.copypixels(_global.member("previewTilesDR").image,rct2,LingoGlobal.op_sub(LingoGlobal.op_add(rct2,LingoGlobal.rect(LingoGlobal.op_add(drps,LingoNumber(16)),LingoGlobal.op_add(LingoNumber(0),LingoNumber(16)),LingoGlobal.op_add(drps,LingoNumber(16)),LingoGlobal.op_add(LingoNumber(0),LingoNumber(16)))),LingoGlobal.rect(LingoGlobal.op_mul(strt.loch,LingoNumber(16)),LingoGlobal.op_mul(strt.locv,LingoNumber(16)),LingoGlobal.op_mul(strt.loch,LingoNumber(16)),LingoGlobal.op_mul(strt.locv,LingoNumber(16)))),LingoPropertyList(color=LingoGlobal.op_mul(clr,LingoNumber(0.5000))))                                                    else:                                                        _global.member(LingoGlobal.concat("TEimg",_global.str(LingoGlobal.op_add(layer,LingoNumber(1))))).image.copypixels(_global.member("previewTiles").image,rct2,LingoGlobal.op_sub(LingoGlobal.op_add(rct2,LingoGlobal.rect(LingoGlobal.op_add(tl.ptpos,LingoNumber(16)),LingoGlobal.op_add(LingoNumber(0),LingoNumber(16)),LingoGlobal.op_add(tl.ptpos,LingoNumber(16)),LingoGlobal.op_add(LingoNumber(0),LingoNumber(16)))),LingoGlobal.rect(LingoGlobal.op_mul(strt.loch,LingoNumber(16)),LingoGlobal.op_mul(strt.locv,LingoNumber(16)),LingoGlobal.op_mul(strt.loch,LingoNumber(16)),LingoGlobal.op_mul(strt.locv,LingoNumber(16)))),LingoPropertyList(color=LingoGlobal.op_mul(clr,LingoNumber(0.5000))))                                                                                                                                                tmp_h = h                                                                                    tmp_g = g                                                                                                            for tmp_g in LingoGlobal.pyrange(strt.loch, LingoGlobal.op_sub(LingoGlobal.op_add(strt.loch,tl.sz.loch),LingoNumber(1))):                                     g = tmp_g                                    for tmp_h in LingoGlobal.pyrange(strt.locv, LingoGlobal.op_sub(LingoGlobal.op_add(strt.locv,tl.sz.locv),LingoNumber(1))):                                         h = tmp_h                                        if (((LingoGlobal.op_add(g,self.gLEProps.campos.loch) > LingoNumber(0) and LingoGlobal.op_add(h,self.gLEProps.campos.locv) > LingoNumber(0)) and LingoGlobal.op_add(g,self.gLEProps.campos.loch) < LingoGlobal.op_add(self.gTEprops.tlmatrix.count,LingoNumber(1))) and LingoGlobal.op_add(h,self.gLEProps.campos.locv) < LingoGlobal.op_add(self.gTEprops.tlmatrix[LingoNumber(1)].count,LingoNumber(1))):                                             drw = LingoGlobal.TRUE                                            if LingoGlobal.op_eq_b(tl.specs[LingoGlobal.op_add(LingoGlobal.op_add(LingoGlobal.op_sub(h,strt.locv),LingoGlobal.op_mul(LingoGlobal.op_sub(g,strt.loch),tl.sz.locv)),LingoNumber(1))], -LingoNumber(1)):                                                 drw = LingoGlobal.FALSE                                                                                            elif (LingoGlobal.op_eq_b(self.gTEprops.tlmatrix[LingoGlobal.op_add(g,self.gLEProps.campos.loch)][LingoGlobal.op_add(h,self.gLEProps.campos.locv)][layer].tp, "tileHead") and LingoGlobal.op_ne_b(self.gTEprops.tlmatrix[q][c][layer].data, self.gTEprops.tlmatrix[LingoGlobal.op_add(g,self.gLEProps.campos.loch)][LingoGlobal.op_add(h,self.gLEProps.campos.locv)][layer].data)):                                                 drw = LingoGlobal.FALSE                                                                                            if LingoGlobal.ToBool(drw):                                                 rct2 = LingoGlobal.rect(LingoGlobal.op_mul(LingoGlobal.op_sub(g,LingoNumber(1)),LingoNumber(16)),LingoGlobal.op_mul(LingoGlobal.op_sub(h,LingoNumber(1)),LingoNumber(16)),LingoGlobal.op_mul(g,LingoNumber(16)),LingoGlobal.op_mul(h,LingoNumber(16)))                                                if (tl.ptpos > LingoNumber(60000) and LingoGlobal.ToBool(self.getboolconfig("More tile previews"))):                                                     drps2 = LingoGlobal.op_sub(tl.ptpos,LingoNumber(60000))                                                    _global.member(LingoGlobal.concat("TEimg",_global.str(layer))).image.copypixels(_global.member("previewTilesDR").image,rct2,LingoGlobal.op_sub(LingoGlobal.op_add(rct2,LingoGlobal.rect(LingoGlobal.op_add(drps2,LingoNumber(16)),LingoGlobal.op_add(LingoNumber(0),LingoNumber(16)),LingoGlobal.op_add(drps2,LingoNumber(16)),LingoGlobal.op_add(LingoNumber(0),LingoNumber(16)))),LingoGlobal.rect(LingoGlobal.op_mul(strt.loch,LingoNumber(16)),LingoGlobal.op_mul(strt.locv,LingoNumber(16)),LingoGlobal.op_mul(strt.loch,LingoNumber(16)),LingoGlobal.op_mul(strt.locv,LingoNumber(16)))),LingoPropertyList(color=clr))                                                else:                                                    _global.member(LingoGlobal.concat("TEimg",_global.str(layer))).image.copypixels(_global.member("previewTiles").image,rct2,LingoGlobal.op_sub(LingoGlobal.op_add(rct2,LingoGlobal.rect(LingoGlobal.op_add(tl.ptpos,LingoNumber(16)),LingoGlobal.op_add(LingoNumber(0),LingoNumber(16)),LingoGlobal.op_add(tl.ptpos,LingoNumber(16)),LingoGlobal.op_add(LingoNumber(0),LingoNumber(16)))),LingoGlobal.rect(LingoGlobal.op_mul(strt.loch,LingoNumber(16)),LingoGlobal.op_mul(strt.locv,LingoNumber(16)),LingoGlobal.op_mul(strt.loch,LingoNumber(16)),LingoGlobal.op_mul(strt.locv,LingoNumber(16)))),LingoPropertyList(color=clr))                                                                                                                                    tmp_h = h                                                                            tmp_g = g                                                                                                                                            else:                        rct = LingoGlobal.rect(LingoGlobal.op_mul(LingoGlobal.op_sub(drawq,LingoNumber(1)),LingoNumber(16)),LingoGlobal.op_mul(LingoGlobal.op_sub(drawc,LingoNumber(1)),LingoNumber(16)),LingoGlobal.op_mul(drawq,LingoNumber(16)),LingoGlobal.op_mul(drawc,LingoNumber(16)))                        _global.member(LingoGlobal.concat("TEimg",_global.str(layer))).image.copypixels(LingoImage.Pxl,rct,LingoImage.Pxl.rect,LingoPropertyList(color=_global.color(LingoNumber(255),LingoNumber(255),LingoNumber(255))))                                    tmp_c = c                            tmp_q = q                            return None            