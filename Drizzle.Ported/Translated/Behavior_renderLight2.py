from Drizzle.Runtime import *## Behavior script: renderLight2#class renderLight2(LingoBehaviorScript):     def __init__(self):         super().__init__()            def exitframe(self):         pnt = None        d = None        stp = None        mvlps = None        dir = None        dp = None        pstrct = None        inv = None        if ((LingoGlobal.ToBool(_global._key.keypressed(LingoNumber(56))) and LingoGlobal.ToBool(_global._key.keypressed(LingoNumber(48)))) and LingoGlobal.op_ne_b(_global._movie.window.sizestate, minimized)):             _global._player.appminimize()        if LingoGlobal.ToBool(_movieScript.checkexit()):             _global._player.quit()        for tmp_q in LingoGlobal.pyrange(LingoNumber(1), LingoNumber(1040)):             _movieScript.q = tmp_q            pnt = LingoGlobal.point(_movieScript.q,_movieScript.c)            d = LingoNumber(0)            stp = LingoNumber(0)            mvlps = LingoNumber(1)            if LingoGlobal.op_eq_b(_global.member("lightImage").getpixel(LingoGlobal.op_sub(_movieScript.q,LingoNumber(1)),LingoGlobal.op_sub(_movieScript.c,LingoNumber(1))), LingoNumber(0)):                 while LingoGlobal.ToBool(LingoGlobal.op_eq(stp,LingoNumber(0))):                     if d > LingoNumber(19):                         break                                            elif (LingoGlobal.op_ne_b(_global.member(LingoGlobal.concat("layer",_global.str(d))).image.getpixel(LingoGlobal.op_add(pnt,LingoGlobal.point(-LingoNumber(1),-LingoNumber(1)))), _global.color(LingoNumber(255),LingoNumber(255),LingoNumber(255))) and LingoGlobal.op_ne_b(_global.member(LingoGlobal.concat("layer",_global.str(d))).image.getpixel(LingoGlobal.op_add(pnt,LingoGlobal.point(-LingoNumber(1),-LingoNumber(1)))), _global.color(LingoNumber(0),LingoNumber(0),LingoNumber(0)))):                         _global.member(LingoGlobal.concat("layer",_global.str(d),"sh")).image.setpixel(LingoGlobal.op_add(pnt,LingoGlobal.point(-LingoNumber(1),-LingoNumber(1))),_global.color(LingoNumber(255),LingoNumber(0),LingoNumber(0)))
                        if d > LingoNumber(0):                             for tmp_dir in LingoList(LingoGlobal.point(-LingoNumber(1),LingoNumber(0)),LingoGlobal.point(LingoNumber(0),-LingoNumber(1)),LingoGlobal.point(LingoNumber(1),LingoNumber(0)),LingoGlobal.point(LingoNumber(0),LingoNumber(1))):                                 dir = tmp_dir                                if (LingoGlobal.op_ne_b(_global.member(LingoGlobal.concat("layer",_global.str(d))).image.getpixel(LingoGlobal.op_add(LingoGlobal.op_add(pnt,LingoGlobal.point(-LingoNumber(1),-LingoNumber(1))),dir)), _global.color(LingoNumber(255),LingoNumber(255),LingoNumber(255))) and LingoGlobal.op_ne_b(_global.member(LingoGlobal.concat("layer",_global.str(d))).image.getpixel(LingoGlobal.op_add(LingoGlobal.op_add(pnt,LingoGlobal.point(-LingoNumber(1),-LingoNumber(1))),dir)), _global.color(LingoNumber(0),LingoNumber(0),LingoNumber(0)))):                                     _global.member(LingoGlobal.concat("layer",_global.str(d),"sh")).image.setpixel(LingoGlobal.op_add(LingoGlobal.op_add(pnt,LingoGlobal.point(-LingoNumber(1),-LingoNumber(1))),dir),_global.color(LingoNumber(255),LingoNumber(0),LingoNumber(0)))                                                                                    break                                            mvlps = LingoGlobal.op_add(mvlps,LingoNumber(1))                    if mvlps > _movieScript.mvL.count:                         mvlps = LingoNumber(1)                                            pnt = LingoGlobal.op_add(pnt,LingoGlobal.point(_movieScript.mvL[mvlps][LingoNumber(1)],_movieScript.mvL[mvlps][LingoNumber(2)]))                    d = LingoGlobal.op_add(d,_movieScript.mvL[mvlps][LingoNumber(3)])                                                tmp_q = _movieScript.q                    _movieScript.c = LingoGlobal.op_add(_movieScript.c,LingoNumber(1))        _global.member("timeLeft").text = LingoGlobal.concat_space(_global.str(LingoGlobal.op_mul(LingoGlobal.op_div(_movieScript.c.float,LingoNumber(800.0000)),LingoNumber(100.0000)).integer),"% Rendered, Approx. ",_global.str(LingoGlobal.op_div(LingoGlobal.op_mul(LingoGlobal.op_div(LingoGlobal.op_sub(_global._system.milliseconds,_movieScript.tm).float,_movieScript.c.float),LingoGlobal.op_sub(LingoNumber(800),_movieScript.c)),LingoNumber(1000)).integer),"seconds left")        _global.sprite(LingoNumber(42)).loc = LingoGlobal.point(LingoNumber(10),_movieScript.restrict(_movieScript.c,LingoNumber(30),LingoNumber(700)))        if _movieScript.c > LingoNumber(800):             _global.member("shadowImage").image = _global.image(LingoGlobal.op_mul(LingoNumber(52),LingoNumber(20)),LingoGlobal.op_mul(LingoNumber(40),LingoNumber(20)),LingoNumber(32))            for tmp_q in LingoGlobal.pyrange(LingoNumber(1), LingoNumber(20)):                 _movieScript.q = tmp_q                dp = LingoGlobal.op_sub(LingoGlobal.op_sub(LingoNumber(20),_movieScript.q),LingoNumber(5))                pstrct = LingoGlobal.rect(_movieScript.depthpnt(LingoGlobal.point(LingoNumber(0),LingoNumber(0)),dp),_movieScript.depthpnt(LingoGlobal.point(LingoNumber(1040),LingoNumber(800)),dp))                _global.member("shadowImage").image.copypixels(_global.member(LingoGlobal.concat("layer",_global.str(LingoGlobal.op_sub(LingoNumber(20),_movieScript.q)))).image,pstrct,LingoGlobal.rect(LingoNumber(0),LingoNumber(0),LingoNumber(1040),LingoNumber(800)),LingoPropertyList(dict(ink = LingoNumber(36),color = _global.color(LingoNumber(255),LingoNumber(255),LingoNumber(255)))))
                _global.member("shadowImage").image.copypixels(_global.member(LingoGlobal.concat("layer",_global.str(LingoGlobal.op_sub(LingoNumber(20),_movieScript.q)),"sh")).image,pstrct,LingoGlobal.rect(LingoNumber(0),LingoNumber(0),LingoNumber(1040),LingoNumber(800)),LingoPropertyList(dict(ink = LingoNumber(36))))
                tmp_q = _movieScript.q                            inv = _global.image(LingoGlobal.op_mul(LingoNumber(52),LingoNumber(20)),LingoGlobal.op_mul(LingoNumber(40),LingoNumber(20)),LingoNumber(1))            inv.copypixels(LingoImage.Pxl,LingoGlobal.rect(LingoNumber(0),LingoNumber(0),LingoNumber(1040),LingoNumber(800)),LingoGlobal.rect(LingoNumber(0),LingoNumber(0),LingoNumber(1),LingoNumber(1)),LingoPropertyList(dict(color = LingoNumber(255))))
            inv.copypixels(_global.member("shadowImage").image,LingoGlobal.rect(LingoNumber(0),LingoNumber(0),LingoNumber(1040),LingoNumber(800)),LingoGlobal.rect(LingoNumber(0),LingoNumber(0),LingoNumber(1040),LingoNumber(800)),LingoPropertyList(dict(ink = LingoNumber(36),color = _global.color(LingoNumber(255),LingoNumber(255),LingoNumber(255)))))
            _global.member("shadowImage").image.copypixels(inv,LingoGlobal.rect(LingoNumber(0),LingoNumber(0),LingoNumber(1040),LingoNumber(800)),LingoGlobal.rect(LingoNumber(0),LingoNumber(0),LingoNumber(1040),LingoNumber(800)))        else:            _global.go(_global.the_frame)                return None            